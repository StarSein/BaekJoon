# [Gold IV] 往復すごろく (Round Sugoroku) - 20979 

[문제 링크](https://www.acmicpc.net/problem/20979) 

### 성능 요약

메모리: 23072 KB, 시간: 252 ms

### 분류

자료 구조, 구현, 트리를 사용한 집합과 맵, 두 포인터

### 제출 일자

2024년 6월 13일 19:15:22

### 문제 설명

<p>JOI 高校の葵は新しいすごろくを購入した．このすごろくは <var>N+2</var> 個のマスが横一列に並んだ形をしている．これらのマスには，左端のマスから右端のマスへと順に，<var>0</var> から <var>N+1</var> までの番号がついている．初め，マス <var>0</var> とマス <var>N+1</var> には <code>X</code> が，マス <var>i</var> (<var>1 ≦ i ≦ N</var>) には <var>S<sub>i</sub></var> が書かれている．ただし，<var>S<sub>i</sub></var> は文字 <code>.</code> または <code>#</code> である．</p>

<p>葵はこのすごろくと <var>1</var> つの駒を使って遊んでいる．初め，駒はマス <var>A</var> (<var>1 ≦ A ≦ N</var>) に右を向いた状態で置かれている．ただし，<var>S<sub>A</sub></var> は文字 <code>.</code> である．葵は <var>1</var> 秒経つごとに，駒を向いている方向へ <var>1</var> マス移動させる．</p>

<p>このすごろくには次のような<strong>ルール</strong>が設定されている．</p>

<ul>
	<li><code>X</code> が書かれたマスに駒が乗ると，駒の向きは反転する．</li>
	<li><code>.</code> が書かれたマスに駒が乗ったとしても，何も起こらない．</li>
	<li><code>#</code> が書かれたマスに駒が乗ると，駒の向きは反転する．このとき，このマスに書かれた文字を <code>.</code> に変更する．したがって，その後はこのマスに駒が乗ったとしても向きは反転しない．</li>
</ul>

<p>なお，駒の反転や文字の変更にかかる時間は無視できる．</p>

<p>すごろくと駒の初めの状態が与えられたとき，<code>#</code> が書かれたマスがすべてなくなるまでに要する時間を求めるプログラムを作成せよ．</p>

### 입력 

 <p>入力は以下の形式で標準入力から与えられる．</p>

<p><var>N</var> <var>A</var><br>
<var>S</var></p>

<p>ただし，<var>S</var> は長さ <var>N</var> の文字列で，その <var>i</var> 文字目 (<var>1 ≦ i ≦ N</var>) は <var>S<sub>i</sub></var> である．</p>

### 출력 

 <p>標準出力に，<code>#</code> が書かれたマスがすべてなくなるまでに何秒かかるかを <var>1</var> 行で出力せよ．</p>

